# Plan Mode Eval pipeline configuration
# Secrets (API keys) should be set via .env or environment variables.

repo_url: "https://github.com/stanfordnlp/dspy"  # e.g. https://github.com/owner/repo
branch: "main"

# run_id is used to identify a set of generate-tasks, run-plans, and grade runs on the repo. If not set, a timestamp will be used.
run_id: "test_run"

# Paths (relative to project root or absolute)
data_dir: "data"
repomix_path: "npx"  # or "repomix" if installed globally

# Optional: max tokens / truncation for Repo Map when feeding to LLM
repo_map_max_chars: 150000

# Repomix: exclude the <files> section from output (keeps summary/structure only, shorter output)
repomix_exclude_files: true

# Repomix ignore patterns (glob syntax, comma-separated in repomix). Tuned for Python/dspy repos.
repomix_ignore: >
  **/__pycache__/,**/*.pyc,**/*.pyo,**/.git/,**/node_modules/,
  **/.venv/,**/venv/,**/dist/,**/build/,**/*.egg-info/,
  **/.pytest_cache/,**/.mypy_cache/,**/.ruff_cache/,**/.tox/,
  **/.github/,**/docs/,**/experiments/,**/checkpoints/,**/logs/,**/mlruns/,
  **/.ipynb_checkpoints/,**/.DS_Store,**/finetuning_ckpts/,**/profiler/,
  **/.devcontainer/,**/uv.lock,**/*.pt,**/*.pkl,**/*.tar.gz,**/*.log,**/*.db

# Task generation
max_merge_commits: 100
max_tasks: 2

# Runner
plan_timeout_seconds: 600

# Grading
max_num_claims_per_task: 3  # Brave Search API has free tier; see https://api-dashboard.search.brave.com/
